{"version":3,"sources":["ignored /home/mvogel/secretlocation/node_modules/node-forge/lib crypto","App.js","ignored /home/mvogel/secretlocation/node_modules/hash-base/node_modules/readable-stream/lib util","ignored /home/mvogel/secretlocation/node_modules/hash-base/node_modules/readable-stream/lib/internal/streams util","ignored /home/mvogel/.nvm/versions/node/v16.14.0/lib/node_modules/expo-cli/node_modules/readable-stream/lib util","ignored /home/mvogel/.nvm/versions/node/v16.14.0/lib/node_modules/expo-cli/node_modules/readable-stream/lib/internal/streams util"],"names":["App","props","selectIdentity","identity","setState","selectedIdentity","state","method","rid","ci","generate_rid","username_signature","onSelectIdentity","source","window","opener","parent","postMessage","toObject","origin","sign","key","reviveUser","wif","username","message","signature","hash","data","location","length","JSON","parse","atob","substr","CenterIdentity","undefined","checked","indexOf","identities","localStorage","getItem","addIdentity","console","log","RecoverIdentity","extra_args","styles","container","Linking","uri","logo","menuTitle","stringify","error","importIdentity","exportIdentity","sort","a","b","toLowerCase","map","checkbox","push","setItem","item","toJson","React","Component","StyleSheet","create","flex","backgroundColor","justifyContent","width","padding","textAlign","height","fontSize","marginTop","marginBottom","textTransform","color","fontWeight"],"mappings":"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","file":"static/js/app.2ee22588.chunk.js","sourcesContent":["/* (ignored) */","import { StatusBar } from 'expo-status-bar';\nimport React from 'react';\nimport { StyleSheet, Text, View, Image } from 'react-native';\nimport { Button, Checkbox, Provider, RadioButton, Subheading, TextInput } from 'react-native-paper';\nimport * as Location from 'expo-location'\nimport * as Linking from 'expo-linking';\n\nimport { RecoverIdentity}  from 'centeridentity-expo';\nimport CenterIdentity from 'centeridentity';\n\nexport default class App extends React.Component {\n  constructor(props) {\n    super(props);\n    let data = {}\n    if (window.location.hash.length > 1) {\n      data = JSON.parse(atob(window.location.hash.substr(1)))\n    }\n    this.state = {\n      ci: new CenterIdentity(undefined, 'https://centeridentity.com', true),\n      checked: true,\n      ...data\n    }\n    this.state.sign = ['contract', 'signin', 'invite'].indexOf(this.state.method) > -1\n\n    let identities = localStorage.getItem('identities')\n    if(identities) {\n      identities = JSON.parse(identities)\n      this.state.addIdentity = false\n    } else {\n      identities = []\n      this.state.addIdentity = true\n    }\n    this.state.identities = identities\n  }\n\n  selectIdentity = (identity) => {\n    this.setState({\n      selectedIdentity: identity\n    })\n    if (this.state.method === 'contacts') {\n      const rid = this.state.ci.generate_rid(identity.username_signature, identity.username_signature, 'contact')\n      this.onSelectIdentity(identity, rid)\n    }else if (this.state.method === 'groups') {\n      const rid = this.state.ci.generate_rid(identity.username_signature, identity.username_signature, 'group')\n      this.onSelectIdentity(identity, rid)\n    }\n  }\n\n  onSelectIdentity = (identity, rid) => {\n    const source = window.opener || window.parent\n    if(source){\n      source.postMessage(\n        {\n          identity: this.state.ci.toObject(identity),\n          rid: rid,\n          method: this.state.method\n        },\n        this.state.origin\n      )\n    }\n  }\n\n  sign = async () => {\n    let { selectedIdentity } = this.state;\n    if (!selectedIdentity.key) {\n      selectedIdentity = await this.state.ci.reviveUser(selectedIdentity.wif, selectedIdentity.username)\n    }\n    this.setState({\n      signature: await this.state.ci.sign(this.state.message, selectedIdentity)\n    })\n    const source = window.opener || window.parent\n    if(source){\n      source.postMessage(\n        {\n          identity: this.state.ci.toObject(selectedIdentity),\n          hash: this.state.message,\n          signature: this.state.signature,\n          method: this.state.method\n        },\n        this.state.origin\n      )\n    }\n  }\n\n  render() {\n    console.log(RecoverIdentity)\n    var extra_args = JSON.parse(localStorage.getItem('centeridentity_extra_args') || '{}');\n    return (\n      <Provider>\n        <View style={styles.container}>\n          <Text\n            onPress={()=> {\n              Linking.openURL(\"https://centeridentity.com\");\n            }}\n          >\n            <Image\n              source={{uri: \"https://centeridentity.com/centeridentitystatic/center-identity-logo.png\"}}\n              style={styles.logo}\n            />\n          </Text>\n          {this.state.selectedIdentity && this.state.message && <Text style={styles.menuTitle}>Use the identity saved for <strong>{this.state.selectedIdentity.username}</strong> to sign this message?</Text>}\n          {this.state.selectedIdentity && <Text>{typeof this.state.message === 'string' ? this.state.message : JSON.stringify(this.state.message, null, 4)}</Text>}\n          {this.state.error && <Text>{this.state.error}</Text>}\n          <StatusBar style=\"auto\" />\n          {this.state.selectedIdentity && this.state.sign && <Button\n            onPress={() => {this.sign()}}\n          >Sign</Button>}\n          {this.state.identities.length > 0 && this.state.selectedIdentity && <Button\n              onPress={() => {this.setState({selectedIdentity: null, importIdentity: false, addIdentity: false, selectIdentity: true, exportIdentity: false})}}\n            >Select different identity</Button>\n          }\n          {this.state.identities.length > 0 && !this.state.selectedIdentity && <Button\n              onPress={() => {this.setState({selectIdentity: true, importIdentity: false, addIdentity: false, exportIdentity: false})}}\n            >Select identity</Button>\n          }\n          {!this.state.selectedIdentity && <Button\n              onPress={() => {this.setState({checked: true, selectedIdentity: null, importIdentity: false, addIdentity: true, selectIdentity: false, exportIdentity: false})}}\n            >Locate identity</Button>\n          }\n          {!this.state.selectedIdentity && <Button\n              onPress={() => {this.setState({checked: true, selectedIdentity: null, importIdentity: true, addIdentity: false, selectIdentity: false, exportIdentity: false})}}\n            >Import identity</Button>\n          }\n          {this.state.identities.length > 0 && this.state.selectedIdentity && <Button\n              onPress={() => {this.setState({importIdentity: false, addIdentity: false, selectIdentity: false, exportIdentity: true})}}\n            >Export identity</Button>\n          }\n          {this.state.selectedIdentity && this.state.exportIdentity && <View>\n              <TextInput\n                label=\"WIF\"\n                value={this.state.selectedIdentity.wif}\n              />\n            </View>\n          }\n          {this.state.identities.length > 0 && !this.state.selectedIdentity && this.state.selectIdentity && <Text style={styles.menuTitle}>Select an identity from the list below</Text>}\n          {this.state.identities.length > 0 && !this.state.selectedIdentity && this.state.selectIdentity && this.state.identities.sort((a, b) => {\n            if (a.username.toLowerCase() > b.username.toLowerCase()) return 1\n            if (a.username.toLowerCase() < b.username.toLowerCase()) return -1\n            return 0\n          }).map((identity) => {\n            return <Button\n              labelStyle={styles.username}\n              onPress={() => {this.selectIdentity(identity)}}\n            >{identity.username}</Button>\n          })}\n          {!this.state.selectedIdentity && this.state.addIdentity && <Text style={styles.menuTitle}>On the map below, find an exact location which is very personal / private to you and click it twice. This will be the information you use to recover your identity</Text>}\n          {!this.state.selectedIdentity && this.state.importIdentity && <Text style={styles.menuTitle}>Input your public username and WIF key below</Text>}\n          {!this.state.selectedIdentity && (this.state.addIdentity || this.state.importIdentity) && <Checkbox.Item\n              label=\"Remember identity?\"\n              status={this.state.checked ? 'checked' : 'unchecked'}\n              style={styles.checkbox}\n              onPress={() => {\n                this.setState({\n                  checked: !this.state.checked\n                })\n              }}></Checkbox.Item>\n          }\n          {!this.state.selectedIdentity && this.state.importIdentity && <View>\n\n              <TextInput\n                label=\"Username\"\n                value={this.state.username}\n                onChangeText={(username) => {this.setState({username: username})}}\n              />\n              <TextInput\n                label=\"WIF\"\n                value={this.state.wif}\n                onChangeText={(wif) => {this.setState({wif: wif})}}\n              />\n              <Button\n                onPress={async () => {\n                  const identity = await this.state.ci.reviveUser(this.state.wif, this.state.username)\n                  this.state.identities.push(identity)\n\n                  if (this.state.checked) {\n                    localStorage.setItem('identities', JSON.stringify(this.state.identities.map((item) => {return JSON.parse(this.state.ci.toJson(item))})))\n                  }\n                  this.setState({importIdentity: false, selectIdentity: true})\n                }}\n              >Confirm</Button>\n            </View>\n          }\n          {!this.state.selectedIdentity && this.state.addIdentity && <RecoverIdentity\n            ci={this.state.ci}\n            userNotFoundMessage='Identity not found for provided username and coordinates.'\n            publicUsername=''\n            publicUsernameLabel='Public username'\n            privateUsernameLabel='Private username (do not share)'\n            extraData={extra_args}\n            onIdentity={async (identity) => {\n              if (this.state.checked) {\n                this.state.identities.push(identity)\n                localStorage.setItem('identities', JSON.stringify(this.state.identities.map((item) => {return JSON.parse(this.state.ci.toJson(item))})))\n              }\n              this.setState({\n                selectedIdentity: identity\n              })\n            }}\n            createText='Create'\n            tryAgainText='Try again'\n            width='100%'\n            height={600}\n            clientSideOnly={true}\n          />}\n        </View>\n      </Provider>\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#fff',\n    justifyContent: 'center',\n    width: '100%',\n    padding: 25,\n    textAlign: 'center'\n  },\n  logo: {\n    width: 400,\n    height: 85\n  },\n  checkbox: {\n    width: 250\n  },\n  menuTitle: {\n    fontSize: 20,\n    marginTop: 25,\n    marginBottom: 10\n  },\n  username: {\n    textTransform: 'none',\n    color: '#1bb5d7',\n    fontWeight: 'bold',\n    fontSize: 20\n  }\n});\n","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */"],"sourceRoot":""}